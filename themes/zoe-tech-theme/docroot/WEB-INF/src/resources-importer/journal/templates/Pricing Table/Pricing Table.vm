#set ($content_id = $reserved-article-id.getData())
#set ($background_color = "")
#set ($connect_pricing_tables = "")
#set ($integer = 0)
#set ($num_cols = $integer.parseInt($number_of_columns.data))
#set ($padding = "")

#if (!$pricing_table_background_color.data.isEmpty())
	#set ($background_color = "background-color:${pricing_table_background_color.data};")
#end

#if ($connect_tables.data)
	#set ($connect_pricing_tables = "zoe-pricing-tables-connected")
#end

#if ($num_cols == 5)
	#set ($span = "span2dot4")
#elseif ($num_cols == 4)
	#set ($span = "span3")
#elseif ($num_cols == 3)
	#set ($span = "span4")
#elseif ($num_cols == 2)
	#set ($span = "span6")
#else
	#set ($span = "")
#end

#if (!$pricing_table_background_padding.data.isEmpty())
	#set ($padding = "padding: ${pricing_table_background_padding.data};")
#end

#if ($num_cols == 1)
	<div class="row-fluid zoe-pricing-table-container" id="zoePricingTable${content_id}" style="${background_color}${padding}">
#end

#if (!$pricing_table_heading.getSiblings().isEmpty())
	#foreach ($cur_pricing_table_heading in $pricing_table_heading.getSiblings())
		#set ($mod = ${velocityCount}%${num_cols})

		#if ($mod == 1 && $num_cols != 1)
			<div class="row-fluid ${connect_pricing_tables} zoe-pricing-table-container" id="zoePricingTable${content_id}" style="${background_color}${padding}">
		#end

		<div class="$span zoe-pricing-table">
			<h3>$cur_pricing_table_heading.data</h3>

			#if ($cur_pricing_table_heading.price.data != "null")
				<p class="rate">
					#if (!$cur_pricing_table_heading.currency_symbol.data.isEmpty())
						<span class="currency-symbol">$cur_pricing_table_heading.currency_symbol.data</span>
					#end

					<span class="price">$cur_pricing_table_heading.price.data</span>

					#if (!$cur_pricing_table_heading.units_of_time.data.isEmpty())
						<span class="units-of-time">/ $cur_pricing_table_heading.units_of_time.data</span>
					#end
				</p>
			#end

			<ul class="unstyled">
				#set ($li_class = "")

				#foreach ($cur_pricing_table_feature in $cur_pricing_table_heading.feature.getSiblings())
					#if ($velocityCount % 2 == 0)
						#set ($li_class = " even")
					#else
						#set ($li_class = "")
					#end

					#if (!$velocityHasNext)
						#set ($li_class = $li_class + " last")
					#end

					<li class="$li_class">$cur_pricing_table_feature.data</li>
				#end
			</ul>

			#if (!$cur_pricing_table_heading.button_text.data.isEmpty())
				<a class="$cur_pricing_table_heading.button_text.style.data $cur_pricing_table_heading.button_text.size.data" href="$cur_pricing_table_heading.button_text.link.data">$cur_pricing_table_heading.button_text.data</a>
			#end
		</div>

		#if ($mod == 0 && $num_cols != 1)
			</div>
		#end
	#end
#end

#if ($num_cols == 1)
	</div>
#end
